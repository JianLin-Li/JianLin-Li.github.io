
<!DOCTYPE html>
<html
  lang="zh-cn"
  data-figures="true"
  
    class="page"
  
  
  >
  <head>
<title>Docker的知识点-1 | 浩瀚天空</title>
<meta charset="utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">






<meta property="og:locale" content="zh-cn" />

<meta property="og:type" content="article">
<meta name="description" content="Article description." />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="">
<meta name="twitter:title" content="Docker的知识点-1" />
<meta name="twitter:image" content="https://jianlin-li.github.io/images/thumbnail.png"/>
<meta property="og:url" content="https://jianlin-li.github.io/post/docker_review_1/" />
<meta property="og:title" content="Docker的知识点-1" />
<meta property="og:description" content="Article description." />
<meta property="og:image" content="https://jianlin-li.github.io/images/thumbnail.png" />
  <meta name="keywords" content="Docker" />
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage":"https:\/\/jianlin-li.github.io\/post\/docker_review_1\/",
      "name": "浩瀚天空",
      "headline": "Docker的知识点-1",
      "description": "Article description.",
      "url": "https:\/\/jianlin-li.github.io\/post\/docker_review_1\/",
      "datePublished": "2026-01-19T17:22:44+08:00",
      "dateModified": "2026-01-19T17:22:44+08:00",
      "keywords": ["Docker"],
        "articleSection": ["Docker"],
      "author": {
        "@type": "Person",
        "name": "map[name:李建林 photo:images\/fish-head.png]"
      },
      "image":{
        "@type":"ImageObject",
        "url": "https:\/\/jianlin-li.github.io\/images\/thumbnail.png"
      },
      "publisher": {
        "@type": "Organization",
        "logo": {
          "@type":"ImageObject",
          "url": "https:\/\/jianlin-li.github.io\/logos\/logo.png"
        },
        "name": "浩瀚天空"
      }
    }
  </script>

<link rel="apple-touch-icon" sizes="180x180" href="https://jianlin-li.github.io/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jianlin-li.github.io/icons/favicon-32x32.png">
<link rel="manifest" href="https://jianlin-li.github.io/icons/site.webmanifest">

<link rel="canonical" href="https://jianlin-li.github.io/post/docker_review_1/">



<link rel="preload" href="https://jianlin-li.github.io/css/styles.dc38388a8f0b890e788bd3a99b7495d14e7d5ac4359ed3b49abeb778497863b284ad4cc7e496ef58c84139295f9bafed82f5a41345eda86bd2d429cccb7c2596.css" integrity = "sha512-3Dg4io8LiQ54i9Opm3SV0U59WsQ1ntO0mr63eEl4Y7KErUzH5JbvWMhBOSlfm6/tgvWkE0XtqGvS1CnMy3wllg==" as="style" crossorigin="anonymous">



<link rel="preload" href="https://jianlin-li.github.io/zh-cn/js/bundle.e4e0e4fbe8acb50d7f973828f4138cdbea727800047fc93f9abbd6751e8f3422d6ef193f98da36fdb8488219c25692d73da89480f46abc8421a4ee3526dd6c23.js" as="script" integrity=
"sha512-5ODk&#43;&#43;istQ1/lzgo9BOM2&#43;pyeAAEf8k/mrvWdR6PNCLW7xk/mNo2/bhIghnCVpLXPaiUgPRqvIQhpO41Jt1sIw==" crossorigin="anonymous">


<link rel="stylesheet" type="text/css" href="https://jianlin-li.github.io/css/styles.dc38388a8f0b890e788bd3a99b7495d14e7d5ac4359ed3b49abeb778497863b284ad4cc7e496ef58c84139295f9bafed82f5a41345eda86bd2d429cccb7c2596.css" integrity="sha512-3Dg4io8LiQ54i9Opm3SV0U59WsQ1ntO0mr63eEl4Y7KErUzH5JbvWMhBOSlfm6/tgvWkE0XtqGvS1CnMy3wllg==" crossorigin="anonymous">

  </head>
  <body
    data-code="10"
    data-lines="false"
    id="documentTop"
    data-lang="zh-cn"
  >

<header class="nav_header" >
  <nav class="nav"><a href='https://jianlin-li.github.io/' class="nav_brand nav_item" title="浩瀚天空">
  <img src="https://jianlin-li.github.io/logos/logo.png" class="logo" alt="浩瀚天空">
  <div class="nav_close">
    <div><svg class="icon">
  <title>open-menu</title>
  <use xlink:href="#open-menu"></use>
</svg>
<svg class="icon">
  <title>closeme</title>
  <use xlink:href="#closeme"></use>
</svg>
</div>
  </div>
</a>

    <div class='nav_body nav_body_left'>
      
      
      
        

  <div class="nav_parent">
    <a href="https://jianlin-li.github.io/" class="nav_item" title="首页">首页 </a>
  </div>
  <div class="nav_parent">
    <a href="https://jianlin-li.github.io/archives/" class="nav_item" title="归档">归档 </a>
  </div>
  <div class="nav_parent">
    <a href="https://jianlin-li.github.io/categories/" class="nav_item" title="分类">分类 </a>
  </div>
  <div class="nav_parent">
    <a href="https://jianlin-li.github.io/tags/" class="nav_item" title="标签">标签 </a>
  </div>
  <div class="nav_parent">
    <a href="https://jianlin-li.github.io/about/" class="nav_item" title="关于">关于 </a>
  </div>
      
<div class='follow'>
  <a href="https://github.com/JianLin-Li">
    <svg class="icon">
  <title>github</title>
  <use xlink:href="#github"></use>
</svg>

  </a>
  <a href="http://local.gitlab.com">
    <svg class="icon">
  <title>gitlab</title>
  <use xlink:href="#gitlab"></use>
</svg>

  </a>
<div class="color_mode">
  <input type="checkbox" class="color_choice" id="mode">
</div>

</div>

    </div>
  </nav>
</header>

    <main>
  
<div class="grid-inverse wrap content">
  <article class="post_content">
    <h1 class="post_title">Docker的知识点-1</h1>
  <div class="post_meta">
    <span><svg class="icon">
  <title>calendar</title>
  <use xlink:href="#calendar"></use>
</svg>
</span>
    <span class="post_date">
      2026-01-19	  
    </span>
    <span class="post_time"> · 10 分钟阅读</span><span>&nbsp;· <a href='https://jianlin-li.github.io/tags/docker/' title="Docker" class="post_tag button button_translucent">Docker
        </a>
    </span>
    <span class="page_only">&nbsp;·
  <div class="post_share">
    分享到:
    <a href="https://twitter.com/intent/tweet?text=Docker%e7%9a%84%e7%9f%a5%e8%af%86%e7%82%b9-1&url=https%3a%2f%2fjianlin-li.github.io%2fpost%2fdocker_review_1%2f&tw_p=tweetbutton" class="twitter" title="分享到 Twitter" target="_blank" rel="nofollow">
      <svg class="icon">
  <title>twitter</title>
  <use xlink:href="#twitter"></use>
</svg>

    </a>
    <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fjianlin-li.github.io%2fpost%2fdocker_review_1%2f&t=Docker%e7%9a%84%e7%9f%a5%e8%af%86%e7%82%b9-1" class="facebook" title="分享到 Facebook" target="_blank" rel="nofollow">
      <svg class="icon">
  <title>facebook</title>
  <use xlink:href="#facebook"></use>
</svg>

    </a>
    <a href="#linkedinshare" id = "linkedinshare" class="linkedin" title="分享到 LinkedIn" rel="nofollow">
      <svg class="icon">
  <title>linkedin</title>
  <use xlink:href="#linkedin"></use>
</svg>

    </a>
    <a href="https://jianlin-li.github.io/post/docker_review_1/" title="Copy Link" class="link link_yank">
      <svg class="icon">
  <title>copy</title>
  <use xlink:href="#copy"></use>
</svg>

    </a>
  </div>
  </span>
  </div>

    <div class="post_body"><h1 id="docker-架构示意图">Docker 架构示意图</h1>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt="Docker 架构示意图"
      
        class="image_figure image_internal image_unprocessed"
        src="https://jianlin-li.github.io/images/docker-architecture.webp"
      
      
    />

    </picture>
</figure>
</p>
<hr>
<h1 id="-docker-命令大全完整版">🐳 Docker 命令大全（完整版）</h1>
<blockquote>
<p>适用于 Docker CLI（20.x+ 版本），涵盖容器、镜像、网络、卷、Compose 等核心操作。<br>
最后更新：2026年1月</p>
</blockquote>
<hr>
<h2 id="目录">目录</h2>
<ul>
<li><a href="/post/docker_review_1/#%e4%b8%80%e5%ae%b9%e5%99%a8%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f%e7%ae%a1%e7%90%86">一、容器生命周期管理</a></li>
<li><a href="/post/docker_review_1/#%e4%ba%8c%e5%ae%b9%e5%99%a8%e6%93%8d%e4%bd%9cinspect--logs--exec">二、容器操作（Inspect / Logs / Exec）</a></li>
<li><a href="/post/docker_review_1/#%e4%b8%89%e5%ae%b9%e5%99%a8%e7%9a%84-rootfs-%e7%9b%b8%e5%85%b3%e5%91%bd%e4%bb%a4">三、容器的 RootFS 相关命令</a></li>
<li><a href="/post/docker_review_1/#%e5%9b%9b%e6%9c%ac%e5%9c%b0%e9%95%9c%e5%83%8f%e7%ae%a1%e7%90%86">四、本地镜像管理</a></li>
<li><a href="/post/docker_review_1/#%e4%ba%94%e9%95%9c%e5%83%8f%e4%bb%93%e5%ba%93registry%e6%93%8d%e4%bd%9c">五、镜像仓库（Registry）操作</a></li>
<li><a href="/post/docker_review_1/#%e5%85%ad%e7%b3%bb%e7%bb%9f%e4%bf%a1%e6%81%af%e4%b8%8e%e7%89%88%e6%9c%ac">六、系统信息与版本</a></li>
<li><a href="/post/docker_review_1/#%e4%b8%83%e7%bd%91%e7%bb%9c%e5%91%bd%e4%bb%a4network">七、网络命令（Network）</a></li>
<li><a href="/post/docker_review_1/#%e5%85%ab%e5%8d%b7%e5%91%bd%e4%bb%a4volume">八、卷命令（Volume）</a></li>
<li><a href="/post/docker_review_1/#%e4%b9%9ddocker-compose-%e5%91%bd%e4%bb%a4">九、Docker Compose 命令</a></li>
<li><a href="/post/docker_review_1/#%e5%8d%81%e5%85%b6%e4%bb%96%e5%ae%9e%e7%94%a8%e5%91%bd%e4%bb%a4">十、其他实用命令</a></li>
<li><a href="/post/docker_review_1/#%e9%99%84%e5%b8%b8%e7%94%a8%e9%80%89%e9%a1%b9%e9%80%9f%e6%9f%a5">附：常用选项速查</a></li>
</ul>
<hr>
<h2 id="一容器生命周期管理">一、容器生命周期管理</h2>
<table>
  <thead>
      <tr>
          <th>命令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>docker create [OPTIONS] IMAGE [COMMAND] [ARG...]</code></td>
          <td>创建容器但不启动</td>
      </tr>
      <tr>
          <td><code>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</code></td>
          <td>创建并启动容器</td>
      </tr>
      <tr>
          <td><code>docker start [CONTAINER...]</code></td>
          <td>启动已停止的容器</td>
      </tr>
      <tr>
          <td><code>docker stop [CONTAINER...]</code></td>
          <td>优雅停止运行中的容器（SIGTERM → SIGKILL）</td>
      </tr>
      <tr>
          <td><code>docker restart [CONTAINER...]</code></td>
          <td>重启容器</td>
      </tr>
      <tr>
          <td><code>docker kill [CONTAINER...]</code></td>
          <td>强制终止容器（默认 SIGKILL）</td>
      </tr>
      <tr>
          <td><code>docker pause [CONTAINER...]</code></td>
          <td>暂停容器内所有进程</td>
      </tr>
      <tr>
          <td><code>docker unpause [CONTAINER...]</code></td>
          <td>恢复暂停的容器</td>
      </tr>
      <tr>
          <td><code>docker rm [CONTAINER...]</code></td>
          <td>删除已停止的容器</td>
      </tr>
      <tr>
          <td><code>docker container prune</code></td>
          <td>删除所有已停止的容器</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>💡 提示：<code>docker run --rm</code> 可在容器退出后自动删除。</p>
</blockquote>
<hr>
<h2 id="二容器操作inspect--logs--exec">二、容器操作（Inspect / Logs / Exec）</h2>
<table>
  <thead>
      <tr>
          <th>命令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>docker ps [-a] [-q]</code></td>
          <td>列出容器（<code>-a</code> 全部，<code>-q</code> 仅 ID）</td>
      </tr>
      <tr>
          <td><code>docker inspect NAME|ID</code></td>
          <td>查看容器/镜像/网络的详细 JSON 信息</td>
      </tr>
      <tr>
          <td><code>docker logs [-f] [--tail N] CONTAINER</code></td>
          <td>查看容器日志</td>
      </tr>
      <tr>
          <td><code>docker exec [-it] CONTAINER COMMAND</code></td>
          <td>在运行中容器内执行命令</td>
      </tr>
      <tr>
          <td><code>docker top CONTAINER</code></td>
          <td>显示容器内进程（类似 <code>ps</code>）</td>
      </tr>
      <tr>
          <td><code>docker stats [CONTAINER...]</code></td>
          <td>实时监控资源使用（CPU/内存/网络）</td>
      </tr>
      <tr>
          <td><code>docker cp SRC_PATH CONTAINER:DEST_PATH</code></td>
          <td>主机 ↔ 容器间复制文件</td>
      </tr>
      <tr>
          <td><code>docker diff CONTAINER</code></td>
          <td>显示容器文件系统变更（A=新增, D=删除, C=修改）</td>
      </tr>
      <tr>
          <td><code>docker port CONTAINER [PRIVATE_PORT]</code></td>
          <td>查看端口映射关系</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="三容器的-rootfs-相关命令">三、容器的 RootFS 相关命令</h2>
<blockquote>
<p>RootFS（根文件系统）由镜像层 + 容器可写层组成，通常通过以下命令间接操作：</p>
</blockquote>
<table>
  <thead>
      <tr>
          <th>命令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>docker export CONTAINER</code></td>
          <td>导出容器文件系统为 tar（不含元数据）</td>
      </tr>
      <tr>
          <td><code>docker commit CONTAINER [REPO:TAG]</code></td>
          <td>将容器快照保存为新镜像</td>
      </tr>
      <tr>
          <td><code>docker save IMAGE &gt; image.tar</code></td>
          <td>保存镜像（含所有层）到 tar 文件</td>
      </tr>
      <tr>
          <td><code>docker load &lt; image.tar</code></td>
          <td>从 tar 文件加载镜像</td>
      </tr>
      <tr>
          <td><code>docker diff CONTAINER</code></td>
          <td>对比容器与原始镜像的文件差异</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>⚠️ 不建议直接修改容器内部文件，应通过 Dockerfile 或 Volume 管理数据。</p>
</blockquote>
<hr>
<h2 id="四本地镜像管理">四、本地镜像管理</h2>
<table>
  <thead>
      <tr>
          <th>命令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>docker images [-a] [-q]</code></td>
          <td>列出本地镜像</td>
      </tr>
      <tr>
          <td><code>docker rmi IMAGE [IMAGE...]</code></td>
          <td>删除镜像</td>
      </tr>
      <tr>
          <td><code>docker build -t NAME:TAG .</code></td>
          <td>从当前目录 Dockerfile 构建镜像</td>
      </tr>
      <tr>
          <td><code>docker tag SOURCE_IMAGE TARGET_IMAGE</code></td>
          <td>为镜像打新标签</td>
      </tr>
      <tr>
          <td><code>docker history IMAGE</code></td>
          <td>查看镜像构建历史层</td>
      </tr>
      <tr>
          <td><code>docker image prune [-a]</code></td>
          <td>清理未使用的镜像（<code>-a</code> 删除所有未被容器引用的镜像）</td>
      </tr>
      <tr>
          <td><code>docker image ls</code></td>
          <td>同 <code>docker images</code></td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="五镜像仓库registry操作">五、镜像仓库（Registry）操作</h2>
<table>
  <thead>
      <tr>
          <th>命令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>docker login [REGISTRY]</code></td>
          <td>登录镜像仓库（如 Docker Hub、私有 Registry）</td>
      </tr>
      <tr>
          <td><code>docker logout [REGISTRY]</code></td>
          <td>退出登录</td>
      </tr>
      <tr>
          <td><code>docker pull IMAGE[:TAG]</code></td>
          <td>从仓库拉取镜像</td>
      </tr>
      <tr>
          <td><code>docker push IMAGE[:TAG]</code></td>
          <td>推送本地镜像到仓库</td>
      </tr>
      <tr>
          <td><code>docker search TERM</code></td>
          <td>在 Docker Hub 搜索镜像（功能已弱化，建议网页搜索）</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>示例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl">docker login registry.example.com
</span></span><span class="line"><span class="ln">2</span><span class="cl">docker pull nginx:alpine
</span></span><span class="line"><span class="ln">3</span><span class="cl">docker tag myapp:latest registry.example.com/myapp:v1
</span></span><span class="line"><span class="ln">4</span><span class="cl">docker push registry.example.com/myapp:v1
</span></span></code></pre></div></blockquote>
<hr>
<h2 id="六系统信息与版本">六、系统信息与版本</h2>
<table>
  <thead>
      <tr>
          <th>命令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>docker info</code></td>
          <td>显示 Docker 系统信息（存储驱动、内核、容器数等）</td>
      </tr>
      <tr>
          <td><code>docker version</code></td>
          <td>显示客户端和服务器版本</td>
      </tr>
      <tr>
          <td><code>docker system df</code></td>
          <td>显示磁盘使用情况（镜像、容器、卷、构建缓存）</td>
      </tr>
      <tr>
          <td><code>docker system prune [-a] [--volumes]</code></td>
          <td>清理未使用资源（加 <code>--volumes</code> 可删卷）</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="七网络命令network">七、网络命令（Network）</h2>
<table>
  <thead>
      <tr>
          <th>命令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>docker network ls</code></td>
          <td>列出所有网络</td>
      </tr>
      <tr>
          <td><code>docker network create [--driver bridge] NAME</code></td>
          <td>创建自定义网络</td>
      </tr>
      <tr>
          <td><code>docker network inspect NETWORK</code></td>
          <td>查看网络详情（含连接的容器）</td>
      </tr>
      <tr>
          <td><code>docker network connect NETWORK CONTAINER</code></td>
          <td>将容器加入网络</td>
      </tr>
      <tr>
          <td><code>docker network disconnect NETWORK CONTAINER</code></td>
          <td>将容器移出网络</td>
      </tr>
      <tr>
          <td><code>docker network rm NETWORK</code></td>
          <td>删除网络</td>
      </tr>
      <tr>
          <td><code>docker network prune</code></td>
          <td>删除未使用的网络</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>默认网络类型：<code>bridge</code>（单机）、<code>host</code>、<code>none</code>；Swarm 模式支持 <code>overlay</code>。</p>
</blockquote>
<hr>
<h2 id="八卷命令volume">八、卷命令（Volume）</h2>
<table>
  <thead>
      <tr>
          <th>命令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>docker volume create NAME</code></td>
          <td>创建命名卷</td>
      </tr>
      <tr>
          <td><code>docker volume ls</code></td>
          <td>列出所有卷</td>
      </tr>
      <tr>
          <td><code>docker volume inspect NAME</code></td>
          <td>查看卷详细信息（如 Mountpoint）</td>
      </tr>
      <tr>
          <td><code>docker volume rm NAME</code></td>
          <td>删除卷</td>
      </tr>
      <tr>
          <td><code>docker volume prune</code></td>
          <td>删除未使用的卷</td>
      </tr>
      <tr>
          <td><code>docker run -v /host:/container</code></td>
          <td>绑定挂载（Bind Mount）</td>
      </tr>
      <tr>
          <td><code>docker run -v vol_name:/container/path</code></td>
          <td>使用命名卷</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>✅ 推荐使用命名卷进行持久化存储。</p>
</blockquote>
<hr>
<h2 id="九docker-compose-命令">九、Docker Compose 命令</h2>
<blockquote>
<p>使用内置插件 <code>docker compose</code>（推荐）或旧版 <code>docker-compose</code></p>
</blockquote>
<table>
  <thead>
      <tr>
          <th>命令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>docker compose up [-d]</code></td>
          <td>启动服务（<code>-d</code> 后台）</td>
      </tr>
      <tr>
          <td><code>docker compose down [--volumes]</code></td>
          <td>停止并移除服务（加 <code>--volumes</code> 删除卷）</td>
      </tr>
      <tr>
          <td><code>docker compose ps</code></td>
          <td>列出服务容器状态</td>
      </tr>
      <tr>
          <td><code>docker compose logs [-f] [SERVICE]</code></td>
          <td>查看服务日志</td>
      </tr>
      <tr>
          <td><code>docker compose build [SERVICE]</code></td>
          <td>构建服务镜像</td>
      </tr>
      <tr>
          <td><code>docker compose config</code></td>
          <td>验证并输出 compose 配置</td>
      </tr>
      <tr>
          <td><code>docker compose restart [SERVICE]</code></td>
          <td>重启服务</td>
      </tr>
      <tr>
          <td><code>docker compose exec SERVICE CMD</code></td>
          <td>在服务容器中执行命令</td>
      </tr>
      <tr>
          <td><code>docker compose pull [SERVICE]</code></td>
          <td>拉取服务所需镜像</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>默认配置文件：<code>docker-compose.yml</code> 或 <code>compose.yaml</code></p>
</blockquote>
<hr>
<h2 id="十其他实用命令">十、其他实用命令</h2>
<table>
  <thead>
      <tr>
          <th>命令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>docker builder prune</code></td>
          <td>清理 BuildKit 构建缓存</td>
      </tr>
      <tr>
          <td><code>docker events</code></td>
          <td>实时监听 Docker 事件流</td>
      </tr>
      <tr>
          <td><code>docker wait CONTAINER</code></td>
          <td>阻塞等待容器退出，返回退出码</td>
      </tr>
      <tr>
          <td><code>docker update --memory=512m CONTAINER</code></td>
          <td>动态更新容器资源限制</td>
      </tr>
      <tr>
          <td><code>docker rename OLD_NAME NEW_NAME</code></td>
          <td>重命名容器</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="附常用选项速查">附：常用选项速查</h2>
<table>
  <thead>
      <tr>
          <th>选项</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>-d</code></td>
          <td>后台运行（detached mode）</td>
      </tr>
      <tr>
          <td><code>-it</code></td>
          <td>交互式终端（<code>-i</code> 保持 STDIN，<code>-t</code> 分配 TTY）</td>
      </tr>
      <tr>
          <td><code>-p HOST:CONTAINER</code></td>
          <td>端口映射（如 <code>-p 8080:80</code>）</td>
      </tr>
      <tr>
          <td><code>-v /host:/container</code></td>
          <td>绑定挂载主机目录</td>
      </tr>
      <tr>
          <td><code>-v vol_name:/path</code></td>
          <td>使用命名卷</td>
      </tr>
      <tr>
          <td><code>--rm</code></td>
          <td>容器退出后自动删除</td>
      </tr>
      <tr>
          <td><code>--name NAME</code></td>
          <td>指定容器名称</td>
      </tr>
      <tr>
          <td><code>-e KEY=VALUE</code> 或 <code>--env</code></td>
          <td>设置环境变量</td>
      </tr>
      <tr>
          <td><code>--network NETWORK</code></td>
          <td>指定网络</td>
      </tr>
      <tr>
          <td><code>--memory=&quot;512m&quot;</code></td>
          <td>限制内存</td>
      </tr>
      <tr>
          <td><code>--cpus=1.5</code></td>
          <td>限制 CPU 使用</td>
      </tr>
  </tbody>
</table>
<hr>
<blockquote>
<p>📌 <strong>提示</strong>：任何命令均可加 <code>--help</code> 查看详细用法，例如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl">docker run --help
</span></span><span class="line"><span class="ln">2</span><span class="cl">docker compose up --help
</span></span></code></pre></div></blockquote>
<hr>
<h1 id="dockerfile-所有指令详解全量按官方文档整理截至-docker-26x包含语法作用最佳实践和示例适用于构建高效安全可维护的镜像">Dockerfile 所有指令详解（全量）按官方文档整理（截至 Docker 26.x），包含语法、作用、最佳实践和示例。适用于构建高效、安全、可维护的镜像。</h1>
<hr>
<h2 id="目录-1">目录</h2>
<ul>
<li><a href="/post/docker_review_1/#1-from--%e5%9f%ba%e7%a1%80%e9%95%9c%e5%83%8f">1. <code>FROM</code> —— 基础镜像</a></li>
<li><a href="/post/docker_review_1/#2-run--%e6%9e%84%e5%bb%ba%e6%97%b6%e6%89%a7%e8%a1%8c%e5%91%bd%e4%bb%a4">2. <code>RUN</code> —— 构建时执行命令</a></li>
<li><a href="/post/docker_review_1/#3-cmd--%e5%ae%b9%e5%99%a8%e5%90%af%e5%8a%a8%e9%bb%98%e8%ae%a4%e5%91%bd%e4%bb%a4">3. <code>CMD</code> —— 容器启动默认命令</a></li>
<li><a href="/post/docker_review_1/#4-entrypoint--%e5%ae%b9%e5%99%a8%e4%b8%bb%e5%85%a5%e5%8f%a3%e7%a8%8b%e5%ba%8f">4. <code>ENTRYPOINT</code> —— 容器主入口程序</a></li>
<li><a href="/post/docker_review_1/#5-label--%e6%b7%bb%e5%8a%a0%e5%85%83%e6%95%b0%e6%8d%ae%e6%a0%87%e7%ad%be">5. <code>LABEL</code> —— 添加元数据标签</a></li>
<li><a href="/post/docker_review_1/#6-expose--%e5%a3%b0%e6%98%8e%e7%9b%91%e5%90%ac%e7%ab%af%e5%8f%a3">6. <code>EXPOSE</code> —— 声明监听端口</a></li>
<li><a href="/post/docker_review_1/#7-env--%e8%ae%be%e7%bd%ae%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f">7. <code>ENV</code> —— 设置环境变量</a></li>
<li><a href="/post/docker_review_1/#8-add--%e5%a4%8d%e5%88%b6%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95url-%e5%88%b0%e9%95%9c%e5%83%8f%e6%99%ba%e8%83%bd%e7%89%88">8. <code>ADD</code> —— 复制文件/目录/URL 到镜像（智能版）</a></li>
<li><a href="/post/docker_review_1/#9-copy--%e5%a4%8d%e5%88%b6%e6%9c%ac%e5%9c%b0%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95%e5%88%b0%e9%95%9c%e5%83%8f%e6%8e%a8%e8%8d%90">9. <code>COPY</code> —— 复制本地文件/目录到镜像（推荐）</a></li>
<li><a href="/post/docker_review_1/#10-volume--%e5%88%9b%e5%bb%ba%e6%8c%82%e8%bd%bd%e7%82%b9">10. <code>VOLUME</code> —— 创建挂载点</a></li>
<li><a href="/post/docker_review_1/#11-user--%e6%8c%87%e5%ae%9a%e8%bf%90%e8%a1%8c%e7%94%a8%e6%88%b7">11. <code>USER</code> —— 指定运行用户</a></li>
<li><a href="/post/docker_review_1/#12-workdir--%e8%ae%be%e7%bd%ae%e5%b7%a5%e4%bd%9c%e7%9b%ae%e5%bd%95">12. <code>WORKDIR</code> —— 设置工作目录</a></li>
<li><a href="/post/docker_review_1/#13-arg--%e6%9e%84%e5%bb%ba%e5%8f%82%e6%95%b0%e9%9d%9e%e6%8c%81%e4%b9%85%e5%8c%96">13. <code>ARG</code> —— 构建参数（非持久化）</a></li>
<li><a href="/post/docker_review_1/#14-onbuild--%e8%a7%a6%e5%8f%91%e5%99%a8%e5%ad%90%e9%95%9c%e5%83%8f%e6%9e%84%e5%bb%ba%e6%97%b6%e6%89%a7%e8%a1%8c">14. <code>ONBUILD</code> —— 触发器（子镜像构建时执行）</a></li>
<li><a href="/post/docker_review_1/#15-stopsignal--%e8%ae%be%e7%bd%ae%e5%81%9c%e6%ad%a2%e4%bf%a1%e5%8f%b7">15. <code>STOPSIGNAL</code> —— 设置停止信号</a></li>
<li><a href="/post/docker_review_1/#16-healthcheck--%e5%81%a5%e5%ba%b7%e6%a3%80%e6%9f%a5">16. <code>HEALTHCHECK</code> —— 健康检查</a></li>
<li><a href="/post/docker_review_1/#17-shell--%e6%8c%87%e5%ae%9a-runcmdentrypoint-%e7%9a%84-shell">17. <code>SHELL</code> —— 指定 RUN/CMD/ENTRYPOINT 的 shell</a></li>
<li><a href="/post/docker_review_1/#18-comment--%e6%b3%a8%e9%87%8a--%e9%9d%9e%e6%8c%87%e4%bb%a4%e4%bd%86%e5%b8%b8%e7%94%a8">18. <code>COMMENT</code>（# 注释）—— 非指令但常用</a></li>
</ul>
<hr>
<h3 id="1-from--基础镜像">1. <code>FROM</code> —— 基础镜像</h3>
<p><strong>作用</strong>：指定构建镜像的基础镜像（必须是第一条非注释指令）。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">FROM</span><span class="w"> </span><span class="s">&lt;image</span>&gt; <span class="o">[</span>AS &lt;name&gt;<span class="o">]</span>                <span class="c1"># 单阶段</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">FROM</span><span class="w"> </span><span class="s">&lt;image&gt;[:&lt;tag</span>&gt;<span class="o">]</span> <span class="o">[</span>AS &lt;name&gt;<span class="o">]</span>        <span class="c1"># 指定 tag</span><span class="err">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="k">FROM</span><span class="w"> </span><span class="s">&lt;image&gt;[@&lt;digest</span>&gt;<span class="o">]</span> <span class="o">[</span>AS &lt;name&gt;<span class="o">]</span>     <span class="c1"># 指定 digest（最安全）</span><span class="err">
</span></span></span></code></pre></div><p><strong>说明</strong>：</p>
<ul>
<li>支持多阶段构建（<code>AS &lt;name&gt;</code>），用于减小最终镜像体积。</li>
<li>若未指定 tag，默认为 <code>latest</code>（不推荐）。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">FROM</span><span class="w"> </span><span class="s">alpine:3.18</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">FROM</span><span class="w"> </span><span class="s">node:18-alpine</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">builder</span><span class="err">
</span></span></span></code></pre></div><hr>
<h3 id="2-run--构建时执行命令">2. <code>RUN</code> —— 构建时执行命令</h3>
<p><strong>作用</strong>：在镜像构建过程中执行命令（每条 <code>RUN</code> 生成一个新层）。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="c"># Shell 形式（不推荐）</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">RUN</span> &lt;command&gt;<span class="err">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="c"># Exec 形式（推荐）</span><span class="err">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="k">RUN</span> <span class="o">[</span><span class="s2">&#34;executable&#34;</span>, <span class="s2">&#34;param1&#34;</span>, <span class="s2">&#34;param2&#34;</span><span class="o">]</span><span class="err">
</span></span></span></code></pre></div><p><strong>最佳实践</strong>：</p>
<ul>
<li>合并多个命令减少层数（用 <code>&amp;&amp;</code> 连接）。</li>
<li>清理缓存（如 <code>apt-get clean</code>）。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">RUN</span> apt-get update <span class="o">&amp;&amp;</span> apt-get install -y curl <span class="o">&amp;&amp;</span> rm -rf /var/lib/apt/lists/*<span class="err">
</span></span></span></code></pre></div><hr>
<h3 id="3-cmd--容器启动默认命令">3. <code>CMD</code> —— 容器启动默认命令</h3>
<p><strong>作用</strong>：提供容器启动时的<strong>默认参数</strong>（可被 <code>docker run</code> 覆盖）。</p>
<p><strong>语法</strong>（三种形式，仅最后一行生效）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">CMD</span> <span class="p">[</span><span class="s2">&#34;executable&#34;</span><span class="p">,</span><span class="s2">&#34;param1&#34;</span><span class="p">,</span><span class="s2">&#34;param2&#34;</span><span class="p">]</span>   <span class="c1"># exec 形式（推荐）</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">CMD</span> <span class="p">[</span><span class="s2">&#34;param1&#34;</span><span class="p">,</span><span class="s2">&#34;param2&#34;</span><span class="p">]</span>                <span class="c1"># 作为 ENTRYPOINT 的默认参数</span><span class="err">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="k">CMD</span> <span class="nb">command</span> param1 param2              <span class="c1"># shell 形式（不推荐）</span><span class="err">
</span></span></span></code></pre></div><p><strong>注意</strong>：若与 <code>ENTRYPOINT</code> 共存，<code>CMD</code> 内容作为参数传入。</p>
<hr>
<h3 id="4-entrypoint--容器主入口程序">4. <code>ENTRYPOINT</code> —— 容器主入口程序</h3>
<p><strong>作用</strong>：定义容器的<strong>主程序</strong>（不易被覆盖）。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">ENTRYPOINT</span> <span class="p">[</span><span class="s2">&#34;executable&#34;</span><span class="p">,</span> <span class="s2">&#34;param1&#34;</span><span class="p">,</span> <span class="s2">&#34;param2&#34;</span><span class="p">]</span>  <span class="c1"># exec 形式（推荐）</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">ENTRYPOINT</span> <span class="nb">command</span> param1 param2               <span class="c1"># shell 形式（不推荐）</span><span class="err">
</span></span></span></code></pre></div><p><strong>特点</strong>：</p>
<ul>
<li><code>docker run &lt;image&gt; arg1</code> → <code>arg1</code> 会追加到 <code>ENTRYPOINT</code> 后。</li>
<li>可用 <code>--entrypoint</code> 强制覆盖。</li>
</ul>
<p><strong>最佳实践</strong>：固定应用入口，如 <code>[&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]</code>。</p>
<hr>
<h3 id="5-label--添加元数据标签">5. <code>LABEL</code> —— 添加元数据标签</h3>
<p><strong>作用</strong>：为镜像添加键值对元数据（替代旧版 <code>MAINTAINER</code>）。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">LABEL</span> &lt;key&gt;<span class="o">=</span>&lt;value&gt; &lt;key2&gt;<span class="o">=</span>&lt;value2&gt; ...<span class="err">
</span></span></span></code></pre></div><p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">LABEL</span> <span class="nv">maintainer</span><span class="o">=</span><span class="s2">&#34;dev@example.com&#34;</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">LABEL</span> <span class="nv">version</span><span class="o">=</span><span class="s2">&#34;1.0&#34;</span> <span class="nv">description</span><span class="o">=</span><span class="s2">&#34;My App&#34;</span><span class="err">
</span></span></span></code></pre></div><p>查看标签：<code>docker inspect --format='{{json .Config.Labels}}' image</code></p>
<hr>
<h3 id="6-expose--声明监听端口">6. <code>EXPOSE</code> —— 声明监听端口</h3>
<p><strong>作用</strong>：<strong>声明</strong>容器运行时监听的端口（<strong>不实际发布端口</strong>）。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">EXPOSE</span><span class="w"> </span><span class="s">&lt;port</span>&gt; <span class="o">[</span>&lt;port&gt;/&lt;protocol&gt;...<span class="o">]</span><span class="err">
</span></span></span></code></pre></div><p><strong>说明</strong>：</p>
<ul>
<li>仅为文档用途，需配合 <code>docker run -p</code> 才能从主机访问。</li>
<li>默认协议为 TCP，可指定 UDP：<code>EXPOSE 53/udp</code></li>
</ul>
<hr>
<h3 id="7-env--设置环境变量">7. <code>ENV</code> —— 设置环境变量</h3>
<p><strong>作用</strong>：设置环境变量（在构建和运行时都可用）。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">ENV</span> &lt;key&gt;<span class="o">=</span>&lt;value&gt; ...<span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">ENV</span> &lt;key&gt; &lt;value&gt;<span class="err">
</span></span></span></code></pre></div><p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">ENV</span> <span class="nv">NODE_ENV</span><span class="o">=</span>production
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">ENV</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&#34;/usr/local/bin:</span><span class="nv">$PATH</span><span class="s2">&#34;</span><span class="err">
</span></span></span></code></pre></div><p><strong>注意</strong>：每个 <code>ENV</code> 会创建新层，建议合并设置。</p>
<hr>
<h3 id="8-add--复制文件目录url-到镜像智能版">8. <code>ADD</code> —— 复制文件/目录/URL 到镜像（智能版）</h3>
<p><strong>作用</strong>：复制文件、目录或远程 URL 到镜像中（<strong>自动解压 tar</strong>）。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">ADD</span> <span class="o">[</span>--chown<span class="o">=</span>&lt;user&gt;:&lt;group&gt;<span class="o">]</span> &lt;src&gt; ... &lt;dest&gt;<span class="err">
</span></span></span></code></pre></div><p><strong>特性</strong>：</p>
<ul>
<li>支持 URL 下载（不推荐，破坏可重现性）。</li>
<li>自动解压本地 <code>.tar</code>, <code>.gz</code> 等（仅限本地路径）。</li>
<li><strong>一般优先使用 <code>COPY</code></strong>，除非需要自动解压或 URL 功能。</li>
</ul>
<hr>
<h3 id="9-copy--复制本地文件目录到镜像推荐">9. <code>COPY</code> —— 复制本地文件/目录到镜像（推荐）</h3>
<p><strong>作用</strong>：将构建上下文中的文件/目录复制到镜像（<strong>不处理 URL，不解压</strong>）。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">COPY</span> <span class="o">[</span>--chown<span class="o">=</span>&lt;user&gt;:&lt;group&gt;<span class="o">]</span> &lt;src&gt; ... &lt;dest&gt;<span class="err">
</span></span></span></code></pre></div><p><strong>最佳实践</strong>：</p>
<ul>
<li>优先使用 <code>COPY</code> 而非 <code>ADD</code>。</li>
<li>使用 <code>.dockerignore</code> 排除无关文件。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">COPY</span> app.js /app/<span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">COPY</span> --chown<span class="o">=</span>node:node . /app<span class="err">
</span></span></span></code></pre></div><hr>
<h3 id="10-volume--创建挂载点">10. <code>VOLUME</code> —— 创建挂载点</h3>
<p><strong>作用</strong>：创建一个挂载点，用于持久化数据或共享数据。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">VOLUME</span> <span class="p">[</span><span class="s2">&#34;/data&#34;</span><span class="p">]</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">VOLUME</span><span class="w"> </span><span class="s">/var/log</span> /tmp<span class="err">
</span></span></span></code></pre></div><p><strong>说明</strong>：</p>
<ul>
<li>容器启动时，若未挂载卷，Docker 会自动创建匿名卷。</li>
<li><strong>不能挂载主机目录</strong>（需 <code>docker run -v /host:/container</code>）。</li>
</ul>
<hr>
<h3 id="11-user--指定运行用户">11. <code>USER</code> —— 指定运行用户</h3>
<p><strong>作用</strong>：设置后续 <code>RUN</code>、<code>CMD</code>、<code>ENTRYPOINT</code> 的运行用户。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">USER</span><span class="w"> </span><span class="s">&lt;user&gt;[:&lt;group</span>&gt;<span class="o">]</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">USER</span><span class="w"> </span><span class="s">&lt;UID&gt;[:&lt;GID</span>&gt;<span class="o">]</span><span class="err">
</span></span></span></code></pre></div><p><strong>安全建议</strong>：</p>
<ul>
<li>避免以 root 运行应用。</li>
<li>示例：<code>USER 1000</code> 或 <code>USER node</code></li>
</ul>
<hr>
<h3 id="12-workdir--设置工作目录">12. <code>WORKDIR</code> —— 设置工作目录</h3>
<p><strong>作用</strong>：设置工作目录（后续 <code>RUN</code>、<code>CMD</code>、<code>COPY</code> 等的相对路径基准）。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/path/to/workdir</span><span class="err">
</span></span></span></code></pre></div><p><strong>特点</strong>：</p>
<ul>
<li>若目录不存在会自动创建。</li>
<li>可多次使用，路径可嵌套。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">COPY</span> . .<span class="err">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="k">RUN</span> npm install<span class="err">
</span></span></span></code></pre></div><hr>
<h3 id="13-arg--构建参数非持久化">13. <code>ARG</code> —— 构建参数（非持久化）</h3>
<p><strong>作用</strong>：定义构建时变量（<strong>不会保留在最终镜像中</strong>）。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">ARG</span> &lt;name&gt;<span class="o">[=</span>&lt;default value&gt;<span class="o">]</span><span class="err">
</span></span></span></code></pre></div><p><strong>使用</strong>：</p>
<ul>
<li>构建时通过 <code>--build-arg</code> 传值。</li>
<li>常用于版本号、密钥（但密钥应使用 BuildKit secrets）。</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">ARG</span> <span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.0<span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">RUN</span> <span class="nb">echo</span> <span class="nv">$VERSION</span><span class="err">
</span></span></span></code></pre></div><p>构建：<code>docker build --build-arg VERSION=2.0 .</code></p>
<blockquote>
<p>⚠️ <code>ARG</code> 和 <code>ENV</code> 区别：<code>ARG</code> 仅在构建时存在，<code>ENV</code> 在运行时也存在。</p>
</blockquote>
<hr>
<h3 id="14-onbuild--触发器子镜像构建时执行">14. <code>ONBUILD</code> —— 触发器（子镜像构建时执行）</h3>
<p><strong>作用</strong>：为当前镜像添加“触发器”，当它被用作<strong>父镜像</strong>时执行。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">ONBUILD</span> &lt;INSTRUCTION&gt;<span class="err">
</span></span></span></code></pre></div><p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">ONBUILD</span> <span class="k">COPY</span> . /app/src<span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">ONBUILD</span> <span class="k">RUN</span> npm install<span class="err">
</span></span></span></code></pre></div><p><strong>应用场景</strong>：构建语言基础镜像（如 <code>node:slim-onbuild</code>），但已<strong>不推荐使用</strong>（多阶段构建更清晰）。</p>
<hr>
<h3 id="15-stopsignal--设置停止信号">15. <code>STOPSIGNAL</code> —— 设置停止信号</h3>
<p><strong>作用</strong>：指定 <code>docker stop</code> 发送的系统信号（默认 <code>SIGTERM</code>）。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">STOPSIGNAL</span><span class="w"> </span><span class="s">signal</span><span class="err">
</span></span></span></code></pre></div><p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">STOPSIGNAL</span><span class="w"> </span><span class="s">SIGQUIT</span><span class="err">
</span></span></span></code></pre></div><hr>
<h3 id="16-healthcheck--健康检查">16. <code>HEALTHCHECK</code> —— 健康检查</h3>
<p><strong>作用</strong>：定义容器健康状态检测命令。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">HEALTHCHECK</span> <span class="o">[</span>OPTIONS<span class="o">]</span> CMD command<span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">HEALTHCHECK</span> NONE   <span class="c1"># 禁用健康检查</span><span class="err">
</span></span></span></code></pre></div><p><strong>选项</strong>：</p>
<ul>
<li><code>--interval=DURATION</code>（默认 30s）</li>
<li><code>--timeout=DURATION</code>（默认 30s）</li>
<li><code>--start-period=DURATION</code>（启动宽限期）</li>
<li><code>--retries=N</code>（失败重试次数，默认 3）</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">HEALTHCHECK</span> --interval<span class="o">=</span>30s --timeout<span class="o">=</span>3s <span class="se">\
</span></span></span><span class="line"><span class="ln">2</span><span class="cl">  <span class="k">CMD</span> curl -f http://localhost/ <span class="o">||</span> <span class="nb">exit</span> <span class="m">1</span><span class="err">
</span></span></span></code></pre></div><p>查看状态：<code>docker inspect --format='{{.State.Health}}' container</code></p>
<hr>
<h3 id="17-shell--指定-runcmdentrypoint-的-shell">17. <code>SHELL</code> —— 指定 RUN/CMD/ENTRYPOINT 的 shell</h3>
<p><strong>作用</strong>：覆盖默认 shell（Linux 默认 <code>/bin/sh -c</code>，Windows 默认 <code>cmd /S /C</code>）。</p>
<p><strong>语法</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">SHELL</span> <span class="p">[</span><span class="s2">&#34;executable&#34;</span><span class="p">,</span> <span class="s2">&#34;parameters&#34;</span><span class="p">]</span><span class="err">
</span></span></span></code></pre></div><p><strong>示例</strong>（使用 bash）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">SHELL</span> <span class="p">[</span><span class="s2">&#34;/bin/bash&#34;</span><span class="p">,</span> <span class="s2">&#34;-c&#34;</span><span class="p">]</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">RUN</span> <span class="nb">echo</span> <span class="nv">$HOME</span><span class="err">
</span></span></span></code></pre></div><hr>
<h3 id="18-comment-注释-非指令但常用">18. <code>COMMENT</code>（# 注释）—— 非指令但常用</h3>
<p><strong>作用</strong>：添加注释（以 <code>#</code> 开头）。</p>
<p><strong>注意</strong>：</p>
<ul>
<li><code># syntax = docker/dockerfile:1</code> 是特殊注释，用于启用 BuildKit 新语法。</li>
</ul>
<hr>
<h2 id="-总结指令使用频率与建议">🔚 总结：指令使用频率与建议</h2>
<table>
  <thead>
      <tr>
          <th>指令</th>
          <th>使用频率</th>
          <th>建议</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>FROM</code>, <code>RUN</code>, <code>COPY</code>, <code>CMD</code>, <code>ENTRYPOINT</code></td>
          <td>⭐⭐⭐⭐⭐</td>
          <td>必须掌握</td>
      </tr>
      <tr>
          <td><code>WORKDIR</code>, <code>ENV</code>, <code>EXPOSE</code>, <code>VOLUME</code></td>
          <td>⭐⭐⭐⭐</td>
          <td>推荐使用</td>
      </tr>
      <tr>
          <td><code>ARG</code>, <code>LABEL</code>, <code>HEALTHCHECK</code></td>
          <td>⭐⭐⭐</td>
          <td>按需使用</td>
      </tr>
      <tr>
          <td><code>ADD</code>, <code>ONBUILD</code></td>
          <td>⭐</td>
          <td>谨慎使用（<code>ADD</code> 仅在需自动解压时）</td>
      </tr>
      <tr>
          <td><code>STOPSIGNAL</code>, <code>SHELL</code></td>
          <td>⭐</td>
          <td>特殊场景</td>
      </tr>
  </tbody>
</table>
<hr>
<p>✅ <strong>最佳实践提醒</strong>：</p>
<ul>
<li>使用 <strong>多阶段构建</strong> 减小镜像体积。</li>
<li>优先使用 <strong>exec 形式</strong>（<code>[&quot;cmd&quot;, &quot;arg&quot;]</code>）。</li>
<li>避免在镜像中存储敏感信息（用 BuildKit secrets 或运行时挂载）。</li>
<li>使用 <code>.dockerignore</code> 排除无关文件。</li>
</ul>
<hr>
<h1 id="在-docker-中entrypoint-和-cmd-都用于指定容器启动时要运行的命令但它们的行为和用途有本质区别理解它们的差异对构建灵活可复用的镜像是非常关键的">在 Docker 中，<code>ENTRYPOINT</code> 和 <code>CMD</code> 都用于指定容器启动时要运行的命令，但它们的行为和用途有本质区别。理解它们的差异对构建灵活、可复用的镜像是非常关键的。</h1>
<hr>
<h2 id="-核心区别总结">🧩 核心区别总结</h2>
<table>
  <thead>
      <tr>
          <th>特性</th>
          <th><code>ENTRYPOINT</code></th>
          <th><code>CMD</code></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>目的</strong></td>
          <td>定义容器的<strong>主程序/入口</strong>（不可轻易被覆盖）</td>
          <td>提供<strong>默认参数</strong>给 <code>ENTRYPOINT</code>（可被覆盖）</td>
      </tr>
      <tr>
          <td><strong>是否可被 <code>docker run</code> 覆盖</strong></td>
          <td>❌ 默认不能（除非用 <code>--entrypoint</code> 强制覆盖）</td>
          <td>✅ 可以，<code>docker run</code> 后的参数会<strong>完全替换</strong> <code>CMD</code></td>
      </tr>
      <tr>
          <td><strong>两者共存时的行为</strong></td>
          <td><code>CMD</code> 作为 <code>ENTRYPOINT</code> 的<strong>默认参数</strong></td>
          <td>若无 <code>ENTRYPOINT</code>，<code>CMD</code> 就是完整命令</td>
      </tr>
      <tr>
          <td><strong>推荐使用方式</strong></td>
          <td>使用 <strong>exec 形式</strong>：<code>[&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;]</code></td>
          <td>同样推荐 exec 形式</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-详细行为说明">🔍 详细行为说明</h2>
<h3 id="情况-1只有-cmd">情况 1：只有 <code>CMD</code></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Dockerfile" data-lang="Dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">CMD</span> <span class="p">[</span><span class="s2">&#34;echo&#34;</span><span class="p">,</span> <span class="s2">&#34;Hello World&#34;</span><span class="p">]</span><span class="err">
</span></span></span></code></pre></div><ul>
<li>运行：<code>docker run myimage</code> → 输出 <code>Hello World</code></li>
<li>覆盖：<code>docker run myimage date</code> → 执行 <code>date</code>，<strong>完全忽略 <code>CMD</code></strong></li>
</ul>
<blockquote>
<p>✅ 适合提供一个<strong>可被用户替换的默认命令</strong></p>
</blockquote>
<hr>
<h3 id="情况-2只有-entrypoint">情况 2：只有 <code>ENTRYPOINT</code></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Dockerfile" data-lang="Dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">ENTRYPOINT</span> <span class="p">[</span><span class="s2">&#34;echo&#34;</span><span class="p">,</span> <span class="s2">&#34;Hello&#34;</span><span class="p">]</span><span class="err">
</span></span></span></code></pre></div><ul>
<li>运行：<code>docker run myimage</code> → 输出 <code>Hello</code></li>
<li>覆盖：<code>docker run myimage World</code> → 输出 <code>Hello World</code>（<code>World</code> 作为参数追加到 <code>ENTRYPOINT</code> 后）</li>
<li>强制改入口：<code>docker run --entrypoint /bin/bash myimage</code> → 启动 bash，忽略原 <code>ENTRYPOINT</code></li>
</ul>
<blockquote>
<p>✅ 适合将镜像当作<strong>可执行程序</strong>（如 <code>nginx</code>, <code>redis-server</code>）</p>
</blockquote>
<hr>
<h3 id="情况-3entrypoint--cmd最常用组合">情况 3：<code>ENTRYPOINT</code> + <code>CMD</code>（最常用组合）</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Dockerfile" data-lang="Dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">ENTRYPOINT</span> <span class="p">[</span><span class="s2">&#34;nginx&#34;</span><span class="p">,</span> <span class="s2">&#34;-g&#34;</span><span class="p">,</span> <span class="s2">&#34;daemon off;&#34;</span><span class="p">]</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">CMD</span> <span class="p">[</span><span class="s2">&#34;-c&#34;</span><span class="p">,</span> <span class="s2">&#34;/etc/nginx/nginx.conf&#34;</span><span class="p">]</span><span class="err">
</span></span></span></code></pre></div><ul>
<li>
<p>实际执行命令 = <code>ENTRYPOINT + CMD</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl">nginx -g <span class="s2">&#34;daemon off;&#34;</span> -c /etc/nginx/nginx.conf
</span></span></code></pre></div></li>
<li>
<p>用户运行时可<strong>只替换参数部分</strong>：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl">docker run myimage -c /custom/nginx.conf
</span></span></code></pre></div><p>→ 相当于：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl">nginx -g <span class="s2">&#34;daemon off;&#34;</span> -c /custom/nginx.conf
</span></span></code></pre></div><p>（<code>CMD</code> 被替换，<code>ENTRYPOINT</code> 保留）</p>
</li>
</ul>
<blockquote>
<p>✅ 这是<strong>最佳实践</strong>：</p>
<ul>
<li><code>ENTRYPOINT</code> 固定主程序</li>
<li><code>CMD</code> 提供默认配置/参数，允许用户自定义</li>
</ul>
</blockquote>
<hr>
<h2 id="-注意事项">⚠️ 注意事项</h2>
<h3 id="1-shell-形式-vs-exec-形式">1. Shell 形式 vs Exec 形式</h3>
<ul>
<li>
<p><strong>Shell 形式</strong>（不推荐）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Dockerfile" data-lang="Dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">ENTRYPOINT</span> <span class="nb">echo</span> hello   <span class="c1"># 实际运行 /bin/sh -c &#39;echo hello&#39;</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">CMD</span> <span class="nb">echo</span> world<span class="err">
</span></span></span></code></pre></div><p>→ 会导致信号处理异常（如无法响应 <code>SIGTERM</code>），且 <code>CMD</code> 不会被传递给 <code>ENTRYPOINT</code></p>
</li>
<li>
<p><strong>Exec 形式</strong>（强烈推荐）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Dockerfile" data-lang="Dockerfile"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">ENTRYPOINT</span> <span class="p">[</span><span class="s2">&#34;echo&#34;</span><span class="p">,</span> <span class="s2">&#34;hello&#34;</span><span class="p">]</span><span class="err">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="k">CMD</span> <span class="p">[</span><span class="s2">&#34;world&#34;</span><span class="p">]</span><span class="err">
</span></span></span></code></pre></div></li>
</ul>
<h3 id="2-多个-entrypoint-或-cmd">2. 多个 <code>ENTRYPOINT</code> 或 <code>CMD</code>？</h3>
<ul>
<li>Dockerfile 中<strong>最后一个生效</strong>，前面的会被覆盖。</li>
<li>通常只写一个 <code>ENTRYPOINT</code> 和一个 <code>CMD</code>。</li>
</ul>
<h3 id="3-继承行为">3. 继承行为</h3>
<ul>
<li>子镜像可以覆盖父镜像的 <code>ENTRYPOINT</code> 或 <code>CMD</code>。</li>
<li>如果子镜像只定义了 <code>CMD</code>，而父镜像有 <code>ENTRYPOINT</code>，则子镜像的 <code>CMD</code> 会作为新参数传给父镜像的 <code>ENTRYPOINT</code>。</li>
</ul>
<hr>
<h2 id="-最佳实践建议">✅ 最佳实践建议</h2>
<table>
  <thead>
      <tr>
          <th>场景</th>
          <th>推荐写法</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>镜像代表一个<strong>固定应用</strong>（如数据库、Web 服务器）</td>
          <td><code>ENTRYPOINT [&quot;app&quot;]</code> + <code>CMD [&quot;--default-flag&quot;]</code></td>
      </tr>
      <tr>
          <td>镜像用于<strong>通用工具</strong>（如 CLI 工具）</td>
          <td>仅用 <code>CMD [&quot;tool&quot;]</code>，让用户自由替换命令</td>
      </tr>
      <tr>
          <td>需要支持灵活传参</td>
          <td><code>ENTRYPOINT</code> 固定主程序，<code>CMD</code> 提供默认参数</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-示例对比">📌 示例对比</h2>
<table>
  <thead>
      <tr>
          <th>Dockerfile 内容</th>
          <th><code>docker run image</code></th>
          <th><code>docker run image arg1</code></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>CMD [&quot;echo&quot;, &quot;hi&quot;]</code></td>
          <td><code>hi</code></td>
          <td>报错（<code>arg1</code> 被当作命令，找不到）</td>
      </tr>
      <tr>
          <td><code>ENTRYPOINT [&quot;echo&quot;]</code></td>
          <td>（空行）</td>
          <td><code>arg1</code></td>
      </tr>
      <tr>
          <td><code>ENTRYPOINT [&quot;echo&quot;]``CMD [&quot;hi&quot;]</code></td>
          <td><code>hi</code></td>
          <td><code>arg1</code></td>
      </tr>
  </tbody>
</table>
<hr>
<p>✅ <strong>一句话记住</strong>：</p>
<blockquote>
<p><strong><code>ENTRYPOINT</code> 是“命令”，<code>CMD</code> 是“默认参数”。</strong><br>
用户运行时输入的内容会<strong>替换 <code>CMD</code>，并作为参数追加到 <code>ENTRYPOINT</code> 后面</strong>。</p>
</blockquote>
<h1 id="以下是-docker-compose-配置文件基于-compose-specification-v3兼容-docker-compose-v2x-及最新版本内容结构清晰涵盖全面适用于开发测试与生产环境">以下是 <strong>Docker Compose 配置文件（<code>docker-compose.yml</code>）中所有可用指令的完整详解</strong>，基于 <strong>Compose Specification v3+（兼容 Docker Compose v2.x 及最新版本）</strong>，内容结构清晰、涵盖全面，适用于开发、测试与生产环境。</h1>
<hr>
<h1 id="-docker-compose-配置指令详解全量">📄 Docker Compose 配置指令详解（全量）</h1>
<blockquote>
<p>✅ 官方规范：<a href="https://docs.docker.com/compose/compose-file/">https://docs.docker.com/compose/compose-file/</a><br>
✅ 适用格式：<code>compose.yaml</code> 或 <code>docker-compose.yml</code></p>
</blockquote>
<hr>
<h2 id="目录-2">目录</h2>
<ul>
<li><a href="/post/docker_review_1/#%e9%a1%b6%e5%b1%82%e7%bb%93%e6%9e%84">顶层结构</a></li>
<li><a href="/post/docker_review_1/#1-version%e5%b7%b2%e5%bc%83%e7%94%a8%e4%bd%86%e5%b8%b8%e8%a7%81">1. <code>version</code>（已弃用但常见）</a></li>
<li><a href="/post/docker_review_1/#2-services%e6%a0%b8%e5%bf%83">2. <code>services</code>（核心）</a>
<ul>
<li><a href="/post/docker_review_1/#%e9%80%9a%e7%94%a8%e6%9c%8d%e5%8a%a1%e9%85%8d%e7%bd%ae">通用服务配置</a></li>
<li><a href="/post/docker_review_1/#%e6%9e%84%e5%bb%ba%e7%9b%b8%e5%85%b3">构建相关</a></li>
<li><a href="/post/docker_review_1/#%e8%bf%90%e8%a1%8c%e6%97%b6%e8%a1%8c%e4%b8%ba">运行时行为</a></li>
<li><a href="/post/docker_review_1/#%e7%bd%91%e7%bb%9c%e4%b8%8e%e7%ab%af%e5%8f%a3">网络与端口</a></li>
<li><a href="/post/docker_review_1/#%e5%ad%98%e5%82%a8%e5%8d%b7">存储卷</a></li>
<li><a href="/post/docker_review_1/#%e4%be%9d%e8%b5%96%e4%b8%8e%e5%90%af%e5%8a%a8%e9%a1%ba%e5%ba%8f">依赖与启动顺序</a></li>
<li><a href="/post/docker_review_1/#%e5%81%a5%e5%ba%b7%e6%a3%80%e6%9f%a5">健康检查</a></li>
<li><a href="/post/docker_review_1/#%e8%b5%84%e6%ba%90%e9%99%90%e5%88%b6">资源限制</a></li>
<li><a href="/post/docker_review_1/#%e5%ae%89%e5%85%a8%e4%b8%8e%e7%94%a8%e6%88%b7">安全与用户</a></li>
<li><a href="/post/docker_review_1/#%e6%97%a5%e5%bf%97%e4%b8%8e%e9%87%8d%e5%90%af%e7%ad%96%e7%95%a5">日志与重启策略</a></li>
</ul>
</li>
<li><a href="/post/docker_review_1/#3-volumes%e5%91%bd%e5%90%8d%e5%8d%b7%e5%ae%9a%e4%b9%89">3. <code>volumes</code>（命名卷定义）</a></li>
<li><a href="/post/docker_review_1/#4-networks%e8%87%aa%e5%ae%9a%e4%b9%89%e7%bd%91%e7%bb%9c%e5%ae%9a%e4%b9%89">4. <code>networks</code>（自定义网络定义）</a></li>
<li><a href="/post/docker_review_1/#5-configs-%e4%b8%8e-secrets-swarm-%e6%a8%a1%e5%bc%8f">5. <code>configs</code> 与 <code>secrets</code>（Swarm 模式）</a></li>
<li><a href="/post/docker_review_1/#6-%e5%85%b6%e4%bb%96%e9%ab%98%e7%ba%a7%e5%8a%9f%e8%83%bd">6. 其他高级功能</a></li>
</ul>
<hr>
<h2 id="顶层结构">顶层结构</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;3.8&#34;</span><span class="w">        </span><span class="c"># （可选，新版 Compose 忽略）</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">             </span><span class="c"># 必填：定义所有服务</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w">  </span><span class="nt">web</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">nginx</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w">  </span><span class="nt">db</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">postgres</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="nt">volumes</span><span class="p">:</span><span class="w">              </span><span class="c"># 可选：定义命名卷</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w">  </span><span class="nt">db_data</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="nt">networks</span><span class="p">:</span><span class="w">             </span><span class="c"># 可选：定义自定义网络</span><span class="w">
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="w">  </span><span class="nt">frontend</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="w">  </span><span class="nt">backend</span><span class="p">:</span><span class="w">
</span></span></span></code></pre></div><blockquote>
<p>💡 <strong>注意</strong>：从 Docker Compose v2.0+ 开始，<code>version</code> 字段<strong>不再强制要求</strong>，推荐省略以使用最新规范。</p>
</blockquote>
<hr>
<h2 id="1-version已弃用但常见">1. <code>version</code>（已弃用但常见）</h2>
<ul>
<li>旧版用于指定 Compose 文件格式版本（如 <code>3.8</code>、<code>2.4</code>）。</li>
<li><strong>新版本 Compose（v2+）自动兼容，建议省略</strong>。</li>
<li>若保留，需与 Docker Engine 版本匹配。</li>
</ul>
<hr>
<h2 id="2-services核心">2. <code>services</code>（核心）</h2>
<p>每个服务对应一个容器。</p>
<h3 id="通用服务配置">通用服务配置</h3>
<table>
  <thead>
      <tr>
          <th>指令</th>
          <th>类型</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>image</code></td>
          <td>string</td>
          <td>使用的镜像（如 <code>nginx:alpine</code>）</td>
      </tr>
      <tr>
          <td><code>build</code></td>
          <td>string / object</td>
          <td>构建上下文或详细构建配置</td>
      </tr>
      <tr>
          <td><code>container_name</code></td>
          <td>string</td>
          <td>自定义容器名（不推荐，破坏可扩展性）</td>
      </tr>
      <tr>
          <td><code>command</code></td>
          <td>string / list</td>
          <td>覆盖镜像的 <code>CMD</code></td>
      </tr>
      <tr>
          <td><code>entrypoint</code></td>
          <td>string / list</td>
          <td>覆盖镜像的 <code>ENTRYPOINT</code></td>
      </tr>
      <tr>
          <td><code>environment</code></td>
          <td>map / list</td>
          <td>设置环境变量</td>
      </tr>
      <tr>
          <td><code>env_file</code></td>
          <td>string / list</td>
          <td>从文件加载环境变量</td>
      </tr>
      <tr>
          <td><code>ports</code></td>
          <td>list</td>
          <td>端口映射（主机:容器）</td>
      </tr>
      <tr>
          <td><code>expose</code></td>
          <td>list</td>
          <td>仅暴露端口给 linked 服务（不发布到主机）</td>
      </tr>
  </tbody>
</table>
<h4 id="示例">示例：</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="w">  </span><span class="nt">app</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">myapp:latest</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">myapp-prod</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;python&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;app.py&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w">      </span>- <span class="l">DEBUG=1</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="w">      </span>- <span class="l">DB_HOST=db</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w">    </span><span class="nt">env_file</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="w">      </span>- <span class="l">.env</span><span class="w">
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="w">      </span>- <span class="l">./config/prod.env</span><span class="w">
</span></span></span></code></pre></div><hr>
<h3 id="构建相关">构建相关</h3>
<table>
  <thead>
      <tr>
          <th>指令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>build</code></td>
          <td>支持简写或对象形式</td>
      </tr>
      <tr>
          <td><code>context</code></td>
          <td>构建上下文路径（默认当前目录）</td>
      </tr>
      <tr>
          <td><code>dockerfile</code></td>
          <td>指定 Dockerfile 路径</td>
      </tr>
      <tr>
          <td><code>args</code></td>
          <td>传递构建参数（对应 Dockerfile 中的 <code>ARG</code>）</td>
      </tr>
      <tr>
          <td><code>target</code></td>
          <td>多阶段构建的目标阶段</td>
      </tr>
  </tbody>
</table>
<h4 id="示例-1">示例：</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">  </span><span class="nt">web</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">    </span><span class="nt">build</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w">      </span><span class="nt">context</span><span class="p">:</span><span class="w"> </span><span class="l">./app</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w">      </span><span class="nt">dockerfile</span><span class="p">:</span><span class="w"> </span><span class="l">Dockerfile.prod</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w">      </span><span class="nt">args</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="w">        </span><span class="nt">NODE_ENV</span><span class="p">:</span><span class="w"> </span><span class="l">production</span><span class="w">
</span></span></span><span class="line"><span class="ln">8</span><span class="cl"><span class="w">      </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="l">runner</span><span class="w">
</span></span></span></code></pre></div><hr>
<h3 id="运行时行为">运行时行为</h3>
<table>
  <thead>
      <tr>
          <th>指令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>restart</code></td>
          <td>重启策略：<code>no</code>（默认）、<code>always</code>、<code>on-failure[:max-retries]</code>、<code>unless-stopped</code></td>
      </tr>
      <tr>
          <td><code>stop_grace_period</code></td>
          <td>停止容器前等待时间（如 <code>10s</code>）</td>
      </tr>
      <tr>
          <td><code>stop_signal</code></td>
          <td>自定义停止信号（如 <code>SIGINT</code>）</td>
      </tr>
      <tr>
          <td><code>init</code></td>
          <td>是否启用 init 进程（解决僵尸进程，默认 <code>false</code>）</td>
      </tr>
      <tr>
          <td><code>stdin_open</code> / <code>tty</code></td>
          <td>保持 STDIN 打开 / 分配 TTY（类似 <code>docker run -it</code>）</td>
      </tr>
  </tbody>
</table>
<h4 id="示例-2">示例：</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">unless-stopped</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="nt">stop_grace_period</span><span class="p">:</span><span class="w"> </span><span class="l">30s</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="nt">init</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><hr>
<h3 id="网络与端口">网络与端口</h3>
<table>
  <thead>
      <tr>
          <th>指令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>ports</code></td>
          <td>格式：<code>[&quot;3000:3000&quot;, &quot;8080:80&quot;]</code> 或短语法 <code>&quot;3000&quot;</code>（随机主机端口）</td>
      </tr>
      <tr>
          <td><code>networks</code></td>
          <td>加入自定义网络（支持别名）</td>
      </tr>
      <tr>
          <td><code>network_mode</code></td>
          <td>覆盖网络模式（如 <code>host</code>, <code>none</code>）——<strong>与 <code>networks</code> 互斥</strong></td>
      </tr>
  </tbody>
</table>
<h4 id="示例-3">示例：</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">  </span>- <span class="s2">&#34;80:80&#34;</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">  </span>- <span class="s2">&#34;443:443&#34;</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w">  </span>- <span class="l">frontend</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w">  </span>- <span class="l">backend</span><span class="w">
</span></span></span></code></pre></div><blockquote>
<p>⚠️ <code>ports</code> 发布到主机；<code>expose</code> 仅在容器间可见。</p>
</blockquote>
<hr>
<h3 id="存储卷">存储卷</h3>
<table>
  <thead>
      <tr>
          <th>指令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>volumes</code></td>
          <td>挂载卷或绑定挂载</td>
      </tr>
      <tr>
          <td>类型</td>
          <td>语法</td>
      </tr>
      <tr>
          <td>------</td>
          <td>------</td>
      </tr>
      <tr>
          <td>命名卷</td>
          <td><code>- vol_name:/container/path</code></td>
      </tr>
      <tr>
          <td>绑定挂载</td>
          <td><code>- /host/path:/container/path</code></td>
      </tr>
      <tr>
          <td>tmpfs</td>
          <td><code>- type: tmpfs&lt;br&gt;  target: /tmp</code></td>
      </tr>
  </tbody>
</table>
<h4 id="示例-4">示例：</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">  </span>- <span class="l">db_data:/var/lib/postgresql/data</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">  </span>- <span class="l">./logs:/app/logs:ro</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">bind</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w">    </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l">./config</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w">    </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="l">/etc/app</span><span class="w">
</span></span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="w">    </span><span class="nt">read_only</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><hr>
<h3 id="依赖与启动顺序">依赖与启动顺序</h3>
<table>
  <thead>
      <tr>
          <th>指令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>depends_on</code></td>
          <td>控制启动顺序（<strong>不等待服务就绪！</strong>）</td>
      </tr>
      <tr>
          <td><code>condition</code>（旧版）</td>
          <td>已废弃，改用健康检查 + 脚本等待</td>
      </tr>
  </tbody>
</table>
<h4 id="示例仅控制顺序">示例（仅控制顺序）：</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">depends_on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">  </span>- <span class="l">db</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">  </span>- <span class="l">redis</span><span class="w">
</span></span></span></code></pre></div><blockquote>
<p>✅ <strong>正确做法</strong>：应用内实现重试机制，或使用 <code>wait-for-it.sh</code>。</p>
</blockquote>
<hr>
<h3 id="健康检查">健康检查</h3>
<table>
  <thead>
      <tr>
          <th>指令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>healthcheck</code></td>
          <td>定义健康检测命令</td>
      </tr>
  </tbody>
</table>
<h4 id="示例-5">示例：</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">healthcheck</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">  </span><span class="nt">test</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;CMD&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;curl&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;-f&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;http://localhost:8080/health&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">  </span><span class="nt">interval</span><span class="p">:</span><span class="w"> </span><span class="l">30s</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w">  </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l">10s</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w">  </span><span class="nt">retries</span><span class="p">:</span><span class="w"> </span><span class="m">3</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w">  </span><span class="nt">start_period</span><span class="p">:</span><span class="w"> </span><span class="l">40s</span><span class="w">
</span></span></span></code></pre></div><hr>
<h3 id="资源限制">资源限制</h3>
<table>
  <thead>
      <tr>
          <th>指令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>deploy.resources</code>（Swarm）</td>
          <td>生产资源限制</td>
      </tr>
      <tr>
          <td><code>mem_limit</code> / <code>mem_reservation</code></td>
          <td>内存限制（旧版）</td>
      </tr>
      <tr>
          <td><code>cpus</code> / <code>cpu_shares</code></td>
          <td>CPU 限制</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>💡 在非 Swarm 模式下，使用：</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">mem_limit</span><span class="p">:</span><span class="w"> </span><span class="l">512m</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="nt">cpus</span><span class="p">:</span><span class="w"> </span><span class="m">1.5</span><span class="w">
</span></span></span></code></pre></div><hr>
<h3 id="安全与用户">安全与用户</h3>
<table>
  <thead>
      <tr>
          <th>指令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>user</code></td>
          <td>指定运行用户（如 <code>&quot;1000:1000&quot;</code>）</td>
      </tr>
      <tr>
          <td><code>read_only</code></td>
          <td>挂载根文件系统为只读</td>
      </tr>
      <tr>
          <td><code>tmpfs</code></td>
          <td>挂载临时内存文件系统</td>
      </tr>
      <tr>
          <td><code>cap_add</code> / <code>cap_drop</code></td>
          <td>添加/删除 Linux 能力</td>
      </tr>
      <tr>
          <td><code>security_opt</code></td>
          <td>安全选项（如 <code>no-new-privileges</code>）</td>
      </tr>
  </tbody>
</table>
<h4 id="示例-6">示例：</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;1000:1000&#34;</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="nt">read_only</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="nt">tmpfs</span><span class="p">:</span><span class="w"> </span><span class="l">/tmp</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="nt">cap_drop</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w">  </span>- <span class="l">ALL</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="nt">security_opt</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="w">  </span>- <span class="kc">no</span>-<span class="l">new-privileges:true</span><span class="w">
</span></span></span></code></pre></div><hr>
<h3 id="日志与重启策略">日志与重启策略</h3>
<table>
  <thead>
      <tr>
          <th>指令</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>logging</code></td>
          <td>配置日志驱动</td>
      </tr>
      <tr>
          <td><code>restart</code></td>
          <td>重启策略（见上文）</td>
      </tr>
  </tbody>
</table>
<h4 id="日志示例">日志示例：</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">logging</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">  </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;json-file&#34;</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">  </span><span class="nt">options</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w">    </span><span class="nt">max-size</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;10m&#34;</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w">    </span><span class="nt">max-file</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;3&#34;</span><span class="w">
</span></span></span></code></pre></div><hr>
<h2 id="3-volumes命名卷定义">3. <code>volumes</code>（命名卷定义）</h2>
<p>定义可在多个服务间共享的命名卷。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">  </span><span class="nt">db_data</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">local</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w">  </span><span class="nt">nfs_volume</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">local</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w">    </span><span class="nt">driver_opts</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">nfs</span><span class="w">
</span></span></span><span class="line"><span class="ln">8</span><span class="cl"><span class="w">      </span><span class="nt">o</span><span class="p">:</span><span class="w"> </span><span class="l">addr=192.168.1.100,rw</span><span class="w">
</span></span></span><span class="line"><span class="ln">9</span><span class="cl"><span class="w">      </span><span class="nt">device</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;:/export/data&#34;</span><span class="w">
</span></span></span></code></pre></div><blockquote>
<p>默认驱动为 <code>local</code>，支持外部卷：<code>external: true</code></p>
</blockquote>
<hr>
<h2 id="4-networks自定义网络定义">4. <code>networks</code>（自定义网络定义）</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">  </span><span class="nt">frontend</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">bridge</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w">  </span><span class="nt">backend</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w">    </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">   </span><span class="c"># 使用已存在的网络</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">my-backend-net</span><span class="w">
</span></span></span></code></pre></div><hr>
<h2 id="5-configs-与-secretsswarm-模式">5. <code>configs</code> 与 <code>secrets</code>（Swarm 模式）</h2>
<blockquote>
<p>仅在 Docker Swarm 中有效，普通 Compose 忽略。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">configs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">  </span><span class="nt">app-config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">    </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l">./config.yaml</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="nt">secrets</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w">  </span><span class="nt">db-password</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="w">    </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l">./db-pass.txt</span><span class="w">
</span></span></span></code></pre></div><p>在服务中引用：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">  </span><span class="nt">app</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">    </span><span class="nt">configs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w">      </span>- <span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l">app-config</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w">        </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="l">/etc/app/config.yaml</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w">    </span><span class="nt">secrets</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="w">      </span>- <span class="l">db-password</span><span class="w">
</span></span></span></code></pre></div><hr>
<h2 id="6-其他高级功能">6. 其他高级功能</h2>
<h3 id="变量替换">变量替换</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;nginx:${NGINX_VERSION:-latest}&#34;</span><span class="w">
</span></span></span></code></pre></div><p>从 shell 环境或 <code>.env</code> 文件读取。</p>
<h3 id="扩展x-">扩展（<code>x-*</code>）</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">x-common-logging</span><span class="p">:</span><span class="w"> </span><span class="cp">&amp;common-logging</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">  </span><span class="nt">logging</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">json-file</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w">  </span><span class="nt">web</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="w">    </span><span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="cp">*common-logging</span><span class="w">
</span></span></span></code></pre></div><h3 id="profiles按需启动服务">Profiles（按需启动服务）</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="ln">1</span><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">  </span><span class="nt">debug-tool</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">    </span><span class="nt">profiles</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;debug&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">busybox</span><span class="w">
</span></span></span></code></pre></div><p>启动：<code>docker compose --profile debug up</code></p>
<hr>
<h2 id="-最佳实践总结">✅ 最佳实践总结</h2>
<table>
  <thead>
      <tr>
          <th>场景</th>
          <th>推荐做法</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>开发环境</td>
          <td>使用 <code>volumes</code> 挂载代码，热更新</td>
      </tr>
      <tr>
          <td>生产环境</td>
          <td>使用多阶段构建，禁用 <code>ports</code>（通过反向代理暴露）</td>
      </tr>
      <tr>
          <td>安全</td>
          <td>非 root 用户运行，只读文件系统，最小权限</td>
      </tr>
      <tr>
          <td>可维护性</td>
          <td>使用 <code>.env</code> 管理配置，避免硬编码</td>
      </tr>
      <tr>
          <td>启动顺序</td>
          <td>应用层实现重试，而非依赖 <code>depends_on</code></td>
      </tr>
  </tbody>
</table>
<hr>
<blockquote>
<p>📌 <strong>提示</strong>：任何字段均可通过 <code>docker compose config</code> 验证并展开最终配置。</p>
</blockquote>
<hr>

    </div><div class="post_comments">
  
  
  
  
</div>




  </article>
<aside class="sidebar">
  <section class="sidebar_inner">
    <br>
    
  
  <div class="search">
    <input type="search" class="search_field form_field" placeholder='搜索内容...' id="find" autocomplete="off" data-scope='post'>
    <label for="find" class="search_label"><svg class="icon">
  <title>search</title>
  <use xlink:href="#search"></use>
</svg>

    </label>
    
    <div class="search_results results"></div>
  </div>

        <div class="author_header">
          <img src="https://jianlin-li.github.io/images/fish-head.png" alt="李建林 photo">
          <h2>李建林</h2>
        </div>
      <div class="author_bio">
        PHP, GoLang, Docker, Kubernetes, MySQL, Redis, RabbitMQ.
      </div>
      <a href='https://jianlin-li.github.io/about/' class="button mt-1" role="button" title='阅读更多'>阅读更多</a>

    
    <h2 class="mt-4">精选文章</h2>
    <ul>
      <li>
        <a href="https://jianlin-li.github.io/post/docker_review_1/" class="nav-link" title="Docker的知识点-1">Docker的知识点-1</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/go_review_4/" class="nav-link" title="Go语言的知识点-4">Go语言的知识点-4</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/go_review_3/" class="nav-link" title="Go语言的知识点-3">Go语言的知识点-3</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/go_review_2/" class="nav-link" title="Go语言的知识点-2">Go语言的知识点-2</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/go_review_1/" class="nav-link" title="Go语言的知识点-1">Go语言的知识点-1</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/go_review/" class="nav-link" title="Go语言的知识点--GOPATH和Go Modules">Go语言的知识点--GOPATH和Go Modules</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/rabbitmq_review/" class="nav-link" title="RabbitMQ消息中间件详解">RabbitMQ消息中间件详解</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/php_review_4/" class="nav-link" title="PHP语言的知识点-4">PHP语言的知识点-4</a>
      </li>
    </ul>
    <h2 class="mt-4">最新文章</h2>
    <ul class="flex-column">
      <li>
        <a href="https://jianlin-li.github.io/post/php_review_3/" class="nav-link" title="PHP语言的知识点-3">PHP语言的知识点-3</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/php_review_2/" class="nav-link" title="PHP语言的知识点-2">PHP语言的知识点-2</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/php_review_1/" class="nav-link" title="PHP语言的知识点-1">PHP语言的知识点-1</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/luoxi/" class="nav-link" title="华微世纪相关脚本解决方案">华微世纪相关脚本解决方案</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/book_review/" class="nav-link" title="阅读过的书籍与看过的视频">阅读过的书籍与看过的视频</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/local_hosts_bak/" class="nav-link" title="本地hosts的开发环境备份">本地hosts的开发环境备份</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/local_enviroment_info/" class="nav-link" title="本地环境相关配置信息">本地环境相关配置信息</a>
      </li>
      <li>
        <a href="https://jianlin-li.github.io/post/course/" class="nav-link" title="Hugo的有关简易教程">Hugo的有关简易教程</a>
      </li>
    </ul>
    <div>
      <h2 class="mt-4 taxonomy" id="categories-section">分类</h2>
      <nav class="tags_nav">
        <a href='https://jianlin-li.github.io/categories/go%E8%AF%AD%E8%A8%80/' class="post_tag button button_translucent" title="go语言">
          GO语言
          <span class="button_tally">5</span>
        </a>
        
        <a href='https://jianlin-li.github.io/categories/php%E8%AF%AD%E8%A8%80/' class="post_tag button button_translucent" title="php语言">
          PHP语言
          <span class="button_tally">4</span>
        </a>
        
        <a href='https://jianlin-li.github.io/categories/%E6%9C%AC%E5%9C%B0%E7%8E%AF%E5%A2%83/' class="post_tag button button_translucent" title="本地环境">
          本地环境
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://jianlin-li.github.io/categories/docker/' class="post_tag button button_translucent" title="docker">
          DOCKER
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jianlin-li.github.io/categories/hugo/' class="post_tag button button_translucent" title="hugo">
          HUGO
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jianlin-li.github.io/categories/rabbitmq/' class="post_tag button button_translucent" title="rabbitmq">
          RABBITMQ
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jianlin-li.github.io/categories/%E4%B9%A6%E7%B1%8D/' class="post_tag button button_translucent" title="书籍">
          书籍
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jianlin-li.github.io/categories/%E5%8D%8E%E5%BE%AE%E4%B8%96%E7%BA%AA/' class="post_tag button button_translucent" title="华微世纪">
          华微世纪
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jianlin-li.github.io/categories/%E5%A4%8D%E4%B9%A0/' class="post_tag button button_translucent" title="复习">
          复习
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jianlin-li.github.io/categories/%E6%95%99%E7%A8%8B/' class="post_tag button button_translucent" title="教程">
          教程
          <span class="button_tally">1</span>
        </a>
        
        
        <br>
        <div class="post_tags_toggle button">所有分类</div>
        <div class="post_tags">
          <div class="tags_list">
            
            <a href='https://jianlin-li.github.io/categories/docker/' class=" post_tag button button_translucent" data-position=1 title="docker">DOCKER<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/categories/go%E8%AF%AD%E8%A8%80/' class=" post_tag button button_translucent" data-position=5 title="go语言">GO语言<span class="button_tally">5</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/categories/hugo/' class=" post_tag button button_translucent" data-position=1 title="hugo">HUGO<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/categories/php%E8%AF%AD%E8%A8%80/' class=" post_tag button button_translucent" data-position=4 title="php语言">PHP语言<span class="button_tally">4</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/categories/rabbitmq/' class=" post_tag button button_translucent" data-position=1 title="rabbitmq">RABBITMQ<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/categories/%E6%9C%AC%E5%9C%B0%E7%8E%AF%E5%A2%83/' class=" post_tag button button_translucent" data-position=2 title="本地环境">本地环境<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/categories/%E5%A4%8D%E4%B9%A0/' class=" post_tag button button_translucent" data-position=1 title="复习">复习<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/categories/%E5%8D%8E%E5%BE%AE%E4%B8%96%E7%BA%AA/' class=" post_tag button button_translucent" data-position=1 title="华微世纪">华微世纪<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/categories/%E6%95%99%E7%A8%8B/' class=" post_tag button button_translucent" data-position=1 title="教程">教程<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/categories/%E8%A7%86%E9%A2%91/' class=" post_tag button button_translucent" data-position=1 title="视频">视频<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/categories/%E4%B9%A6%E7%B1%8D/' class=" post_tag button button_translucent" data-position=1 title="书籍">书籍<span class="button_tally">1</span>
            </a>
            
            <div class="tags_sort"><span title="sort alphabetically">[A~Z]</span><span title="sort by count">[0~9]</span>
            </div>
            <span class="tags_hide"><svg class="icon">
            <use xlink:href="#closeme"></use>
          </svg></span>
          </div>
        </div>
      </nav>
    </div>
    <div>
      <h2 class="mt-4 taxonomy" id="tags-section">标签</h2>
      <nav class="tags_nav">
        <a href='https://jianlin-li.github.io/tags/go/' class="post_tag button button_translucent" title="go">
          GO
          <span class="button_tally">5</span>
        </a>
        
        <a href='https://jianlin-li.github.io/tags/php/' class="post_tag button button_translucent" title="php">
          PHP
          <span class="button_tally">4</span>
        </a>
        
        <a href='https://jianlin-li.github.io/tags/docker/' class="post_tag button button_translucent" title="docker">
          DOCKER
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jianlin-li.github.io/tags/emoji/' class="post_tag button button_translucent" title="emoji">
          EMOJI
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jianlin-li.github.io/tags/hosts/' class="post_tag button button_translucent" title="hosts">
          HOSTS
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jianlin-li.github.io/tags/hugo/' class="post_tag button button_translucent" title="hugo">
          HUGO
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jianlin-li.github.io/tags/markdown/' class="post_tag button button_translucent" title="markdown">
          MARKDOWN
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jianlin-li.github.io/tags/math/' class="post_tag button button_translucent" title="math">
          MATH
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jianlin-li.github.io/tags/notices/' class="post_tag button button_translucent" title="notices">
          NOTICES
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://jianlin-li.github.io/tags/openstreetmap/' class="post_tag button button_translucent" title="openstreetmap">
          OPENSTREETMAP
          <span class="button_tally">1</span>
        </a>
        
        
        <br>
        <div class="post_tags_toggle button">所有标签</div>
        <div class="post_tags">
          <div class="tags_list">
            
            <a href='https://jianlin-li.github.io/tags/docker/' class=" post_tag button button_translucent" data-position=1 title="docker">DOCKER<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/emoji/' class=" post_tag button button_translucent" data-position=1 title="emoji">EMOJI<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/go/' class=" post_tag button button_translucent" data-position=5 title="go">GO<span class="button_tally">5</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/hosts/' class=" post_tag button button_translucent" data-position=1 title="hosts">HOSTS<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/hugo/' class=" post_tag button button_translucent" data-position=1 title="hugo">HUGO<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/markdown/' class=" post_tag button button_translucent" data-position=1 title="markdown">MARKDOWN<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/math/' class=" post_tag button button_translucent" data-position=1 title="math">MATH<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/notices/' class=" post_tag button button_translucent" data-position=1 title="notices">NOTICES<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/openstreetmap/' class=" post_tag button button_translucent" data-position=1 title="openstreetmap">OPENSTREETMAP<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/php/' class=" post_tag button button_translucent" data-position=4 title="php">PHP<span class="button_tally">4</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/rabbitmq/' class=" post_tag button button_translucent" data-position=1 title="rabbitmq">RABBITMQ<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/sql/' class=" post_tag button button_translucent" data-position=1 title="sql">SQL<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/%E6%9C%AC%E5%9C%B0%E7%8E%AF%E5%A2%83/' class=" post_tag button button_translucent" data-position=1 title="本地环境">本地环境<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/%E5%A4%8D%E4%B9%A0/' class=" post_tag button button_translucent" data-position=1 title="复习">复习<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/%E6%95%99%E7%A8%8B/' class=" post_tag button button_translucent" data-position=1 title="教程">教程<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/%E4%B9%B1%E7%A0%81/' class=" post_tag button button_translucent" data-position=1 title="乱码">乱码<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/%E8%A7%86%E9%A2%91/' class=" post_tag button button_translucent" data-position=1 title="视频">视频<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://jianlin-li.github.io/tags/%E4%B9%A6%E7%B1%8D/' class=" post_tag button button_translucent" data-position=1 title="书籍">书籍<span class="button_tally">1</span>
            </a>
            
            <div class="tags_sort"><span title="sort alphabetically">[A~Z]</span><span title="sort by count">[0~9]</span>
            </div>
            <span class="tags_hide"><svg class="icon">
            <use xlink:href="#closeme"></use>
          </svg></span>
          </div>
        </div>
      </nav>
    </div>
  </section>
</aside>

  
</div>
    </main><svg width="0" height="0" class="hidden">
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="facebook">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h151V331h-60v-90h60v-61c0-49.629 40.371-90 90-90h91v90h-91v61h91l-15 90h-76v181h121c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.001 18.001" id="twitter">
    <path d="M15.891 4.013c.808-.496 1.343-1.173 1.605-2.034a8.68 8.68 0 0 1-2.351.861c-.703-.756-1.593-1.14-2.66-1.14-1.043 0-1.924.366-2.643 1.078a3.56 3.56 0 0 0-1.076 2.605c0 .309.039.585.117.819-3.076-.105-5.622-1.381-7.628-3.837-.34.601-.51 1.213-.51 1.846 0 1.301.549 2.332 1.645 3.089-.625-.053-1.176-.211-1.645-.47 0 .929.273 1.705.82 2.388a3.623 3.623 0 0 0 2.115 1.291c-.312.08-.641.118-.979.118-.312 0-.533-.026-.664-.083.23.757.664 1.371 1.291 1.841a3.652 3.652 0 0 0 2.152.743C4.148 14.173 2.625 14.69.902 14.69c-.422 0-.721-.006-.902-.038 1.697 1.102 3.586 1.649 5.676 1.649 2.139 0 4.029-.542 5.674-1.626 1.645-1.078 2.859-2.408 3.639-3.974a10.77 10.77 0 0 0 1.172-4.892v-.468a7.788 7.788 0 0 0 1.84-1.921 8.142 8.142 0 0 1-2.11.593z"
      ></path>
  </symbol>
  <symbol aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="mail">
    <path  d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="calendar">
    <path d="M452 40h-24V0h-40v40H124V0H84v40H60C26.916 40 0 66.916 0 100v352c0 33.084 26.916 60 60 60h392c33.084 0 60-26.916 60-60V100c0-33.084-26.916-60-60-60zm20 412c0 11.028-8.972 20-20 20H60c-11.028 0-20-8.972-20-20V188h432v264zm0-304H40v-48c0-11.028 8.972-20 20-20h24v40h40V80h264v40h40V80h24c11.028 0 20 8.972 20 20v48z"></path>
    <path d="M76 230h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 310h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 390h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80-80h40v40h-40z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="github">
    <path d="M255.968 5.329C114.624 5.329 0 120.401 0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384 0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008 0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992 0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584 0 34.368-.32 62.08-.32 70.496 0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212 212" id="gitlab">
    <path d="M12.3 74.7h54L43.3 3c-1-3.6-6.4-3.6-7.6 0L12.3 74.8z" />
    <path d="M12.3 74.7L.5 111c-1 3.2 0 6.8 3 8.8l101.6 74-92.5-119z"/>
    <path d="M105 193.7l-38.6-119h-54l92.7 119z"/>
    <path d="M105 193.7l38.7-119H66.4l38.7 119z"/>
    <path d="M105 193.7l38.7-119H198l-93 119z"/>
    <path d="M198 74.7l11.6 36.2c1 3 0 6.6-3 8.6l-101.5 74 93-119z"/>
    <path d="M198 74.7h-54.3L167 3c1.2-3.6 6.4-3.6 7.6 0L198 74.8z"/>
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="rss">
    <circle cx="3.429" cy="20.571" r="3.429"></circle>
    <path d="M11.429 24h4.57C15.999 15.179 8.821 8.001 0 8v4.572c6.302.001 11.429 5.126 11.429 11.428z"></path>
    <path d="M24 24C24 10.766 13.234 0 0 0v4.571c10.714 0 19.43 8.714 19.43 19.429z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="linkedin">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h362c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zM181 406h-60V196h60zm0-240h-60v-60h60zm210 240h-60V286c0-16.54-13.46-30-30-30s-30 13.46-30 30v120h-60V196h60v11.309C286.719 202.422 296.93 196 316 196c40.691.043 75 36.547 75 79.688zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" id="to-top">
    <path d="M604.501 440.509L325.398 134.956c-5.331-5.357-12.423-7.627-19.386-7.27-6.989-.357-14.056 1.913-19.387 7.27L7.499 440.509c-9.999 10.024-9.999 26.298 0 36.323s26.223 10.024 36.222 0l262.293-287.164L568.28 476.832c9.999 10.024 26.222 10.024 36.221 0 9.999-10.023 9.999-26.298 0-36.323z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="carly">
    <path d="M504.971 239.029L448 182.059V84c0-46.317-37.682-84-84-84h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c19.851 0 36 16.149 36 36v108c0 6.365 2.529 12.47 7.029 16.971L454.059 256l-47.029 47.029A24.002 24.002 0 0 0 400 320v108c0 19.851-16.149 36-36 36h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c46.318 0 84-37.683 84-84v-98.059l56.971-56.971c9.372-9.372 9.372-24.568 0-33.941zM112 192V84c0-19.851 16.149-36 36-36h44c13.255 0 24-10.745 24-24S205.255 0 192 0h-44c-46.318 0-84 37.683-84 84v98.059l-56.971 56.97c-9.373 9.373-9.373 24.568 0 33.941L64 329.941V428c0 46.317 37.682 84 84 84h44c13.255 0 24-10.745 24-24s-10.745-24-24-24h-44c-19.851 0-36-16.149-36-36V320c0-6.365-2.529-12.47-7.029-16.971L57.941 256l47.029-47.029A24.002 24.002 0 0 0 112 192z"></path>
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="copy">
    <path d="M23 2.75A2.75 2.75 0 0 0 20.25 0H8.75A2.75 2.75 0 0 0 6 2.75v13.5A2.75 2.75 0 0 0 8.75 19h11.5A2.75 2.75 0 0 0 23 16.25zM18.25 14.5h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5z"></path>
    <path d="M8.75 20.5a4.255 4.255 0 0 1-4.25-4.25V2.75c0-.086.02-.166.025-.25H3.75A2.752 2.752 0 0 0 1 5.25v16A2.752 2.752 0 0 0 3.75 24h12a2.752 2.752 0 0 0 2.75-2.75v-.75z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.001 512.001" id="closeme">
    <path d="M284.286 256.002L506.143 34.144c7.811-7.811 7.811-20.475 0-28.285-7.811-7.81-20.475-7.811-28.285 0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285 0-7.81 7.811-7.811 20.475 0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475 0 28.285a19.938 19.938 0 0 0 14.143 5.857 19.94 19.94 0 0 0 14.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475 0-28.285L284.286 256.002z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="open-menu">
    <path d="M492 236H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0-160H20C8.954 76 0 84.954 0 96s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0 320H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="instagram">
    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id=youtube>
    <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="stackoverflow">
    <path d="M21 27v-8h3v11H0V19h3v8h18z"></path><path d="M17.1.2L15 1.8l7.9 10.6 2.1-1.6L17.1.2zm3.7 14.7L10.6 6.4l1.7-2 10.2 8.5-1.7 2zM7.2 12.3l12 5.6 1.1-2.4-12-5.6-1.1 2.4zm-1.8 6.8l13.56 1.96.17-2.38-13.26-2.55-.47 2.97zM19 25H5v-3h14v3z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="xing">
    <path d="M18.188 0c-.517 0-.741.325-.927.66 0 0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211 0 .375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016 0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894 0 21.686 0h-3.498zM3.648 4.74c-.211 0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016 0 .021L1.86 16.051c-.099.188-.093.381 0 .529.085.142.239.234.45.234h3.461c.518 0 .766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 55" id="discord">
    <path d="M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 18" id="mastodon">
    <path
    fill="#ffffff"
    d="m 15.054695,9.8859583 c -0.22611,1.1632697 -2.02517,2.4363497 -4.09138,2.6830797 -1.0774504,0.12856 -2.1382704,0.24673 -3.2694704,0.19484 -1.84996,-0.0848 -3.30971,-0.44157 -3.30971,-0.44157 0,0.1801 0.0111,0.35157 0.0333,0.51194 0.24051,1.82571 1.81034,1.93508 3.29737,1.98607 1.50088,0.0514 2.8373104,-0.37004 2.8373104,-0.37004 l 0.0617,1.35686 c 0,0 -1.0498104,0.56374 -2.9199404,0.66742 -1.03124,0.0567 -2.3117,-0.0259 -3.80308,-0.42069 -3.23454998,-0.85613 -3.79081998,-4.304 -3.87592998,-7.8024197 -0.026,-1.03871 -0.01,-2.01815 -0.01,-2.83732 0,-3.57732 2.34385998,-4.62587996 2.34385998,-4.62587996 1.18184,-0.54277 3.20976,-0.77101 5.318,-0.7882499985409 h 0.0518 C 9.8267646,0.01719834 11.856025,0.24547834 13.037775,0.78824834 c 0,0 2.34377,1.04855996 2.34377,4.62587996 0,0 0.0294,2.63937 -0.32687,4.47183"/>
 <path
    fill="#000000"
    d="m 12.616925,5.6916583 v 4.3315297 h -1.71607 V 5.8189683 c 0,-0.88624 -0.37289,-1.33607 -1.1187604,-1.33607 -0.82467,0 -1.23799,0.53361 -1.23799,1.58875 v 2.30122 h -1.70594 v -2.30122 c 0,-1.05514 -0.4134,-1.58875 -1.23808,-1.58875 -0.74587,0 -1.11876,0.44983 -1.11876,1.33607 v 4.2042197 h -1.71607 V 5.6916583 c 0,-0.88527 0.22541,-1.58876 0.67817,-2.10922 0.46689,-0.52047 1.07833,-0.78727 1.83735,-0.78727 0.87816,0 1.54317,0.33752 1.98288,1.01267 l 0.42744,0.71655 0.42753,-0.71655 c 0.43961,-0.67515 1.10463,-1.01267 1.9828704,-1.01267 0.75893,0 1.37037,0.2668 1.83735,0.78727 0.45268,0.52046 0.67808,1.22395 0.67808,2.10922"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 530" id="bluesky" >
    <path d="m135.72 44.03c66.496 49.921 138.02 151.14 164.28 205.46 26.262-54.316 97.782-155.54 164.28-205.46 47.98-36.021 125.72-63.892 125.72 24.795 0 17.712-10.155 148.79-16.111 170.07-20.703 73.984-96.144 92.854-163.25 81.433 117.3 19.964 147.14 86.092 82.697 152.22-122.39 125.59-175.91-31.511-189.63-71.766-2.514-7.3797-3.6904-10.832-3.7077-7.8964-0.0174-2.9357-1.1937 0.51669-3.7077 7.8964-13.714 40.255-67.233 197.36-189.63 71.766-64.444-66.128-34.605-132.26 82.697-152.22-67.108 11.421-142.55-7.4491-163.25-81.433-5.9562-21.282-16.111-152.36-16.111-170.07 0-88.687 77.742-60.816 125.72-24.795z"/>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="ko-fi">
    <path fill="#ffffff" d="M4.5,9.8527H32.7947a0,0,0,0,1,0,0v19.225a9.07,9.07,0,0,1-9.07,9.07H13.57a9.07,9.07,0,0,1-9.07-9.07V9.8527A0,0,0,0,1,4.5,9.8527Z"/>
    <path fill="#000000" d="M12.197,25.9493l6.45,6.45,6.45-6.45a8.2,8.2,0,0,0,2.4016-5.798h0a4.5082,4.5082,0,0,0-4.212-4.5459,4.4262,4.4262,0,0,0-4.64,4.4209,4.4261,4.4261,0,0,0-4.64-4.4209,4.5082,4.5082,0,0,0-4.212,4.5459h0A8.2,8.2,0,0,0,12.197,25.9493Z"/>
    <path fill="#ffffff" d="M32.7947,9.8527H35.73a7.77,7.77,0,0,1,0,15.5394H32.7947"/>
  </svg>
  </symbol>
</svg>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha512-aOFyMMzZF7l7ei3vOKgQiRhZnYqk9YC/uMzl4T0j5N5D3Kul+QAFU8ssENDRMAqr/lxDOjMF69dSYJ8HYqY+WQ==" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha512-UPFOadao2nEorjtjl0xUTtN3w20Ja143UPEU6EyJ1mi5MB2bDtMkiWmqGDqi47xNLB5z1dy31GKJDEWhjUJFiQ==" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha512-YJVxTjqttjsU3cSvaTRqsSl0wbRgZUNF+NGGCgto/MUbIvaLdXQzGTCQu4CvyJZbZctgflVB0PXw9LLmTWm5/w==" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
<footer class="footer">
  <div class="footer_inner wrap pale">
    <img src='https://jianlin-li.github.io/icons/apple-touch-icon.png' class="icon icon_2 transparent" alt="Copyright © 1989–2025, 李建林 ">
    <p>Copyright&nbsp;1989-&nbsp;<span class="year"></span>&nbsp;COPYRIGHT © 1989–2025, 李建林 . All Rights Reserved</p><a class="to_top" href="#documentTop">
  <svg class="icon">
  <title>to-top</title>
  <use xlink:href="#to-top"></use>
</svg>

</a>

  </div>
</footer>

<script type="text/javascript" src="https://jianlin-li.github.io/zh-cn/js/bundle.e4e0e4fbe8acb50d7f973828f4138cdbea727800047fc93f9abbd6751e8f3422d6ef193f98da36fdb8488219c25692d73da89480f46abc8421a4ee3526dd6c23.js" integrity="sha512-5ODk&#43;&#43;istQ1/lzgo9BOM2&#43;pyeAAEf8k/mrvWdR6PNCLW7xk/mNo2/bhIghnCVpLXPaiUgPRqvIQhpO41Jt1sIw==" crossorigin="anonymous"></script>

  <script src="https://jianlin-li.github.io/js/search.min.8d141e1e7aa85984a5288b2172ad03540fc235f64379f8df11d062fd3deb9d49bbd9fb0f3df983e9663e322fa8e322a336d5350fbe833c77eb9ee7d907636cff.js"></script>

  </body>
</html>
